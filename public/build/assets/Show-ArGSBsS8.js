import{g as Ue,p as We,q as Je,P as Xe,e as Qe,f as Ye,D as Ze,d as et,T as tt,r as ot,_ as at}from"./AppLayout.vue_vue_type_script_setup_true_lang-DANxfHyB.js";import{c as K,g as e,d as k,b as q,e as h,w as d,f as v,D as O,C as w,B as Fe,r as P,A as Oe,H as j,p as M,E as ne,G as he,T as lt,o as Y,a as we,U as st,V as nt,W as De,k as it,m as V,I as $e,t as C,J as ze,i as L,s as rt,h as l,F as Q,j as fe,n as Ve}from"./app-BacqOfn3.js";import{_ as me}from"./Input.vue_vue_type_script_setup_true_lang-CbEJygc0.js";import{_ as G}from"./Label.vue_vue_type_script_setup_true_lang-DAXH4YYk.js";import{P as D,c as ut,a as H,_ as ve}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C8n_WpZs.js";import{_ as dt,a as pt,b as ct,c as ft,d as qe}from"./SelectValue.vue_vue_type_script_setup_true_lang-BTOZ7J60.js";import{a as Z,u as be,c as ke,b as mt,r as ee}from"./useForwardExpose-TW6ypeNl.js";import{c as ie,f as Pe,u as ye,a as Re,g as vt,e as re,b as Te,d as _e,P as gt}from"./VisuallyHidden-5Gc-k0FP.js";import{i as Ee,u as ht}from"./useFormControl-CUXCosYr.js";import{u as bt}from"./useKbd-kRIii9yh.js";import{V as yt}from"./VisuallyHiddenInput-B8fqAXzY.js";import{_ as _t}from"./Textarea.vue_vue_type_script_setup_true_lang-Ckxc2sb2.js";import{_ as xt}from"./CreateContactDialog.vue_vue_type_script_setup_true_lang-DcssWzca.js";import{C as Ct}from"./check-CZIyiA-v.js";import"./chevron-down-l0F7On6p.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-e-FVML7Z.js";import"./loader-circle-BeMqdbBb.js";function qt(a,s,t){const r=a.findIndex(p=>Ee(p,s)),n=a.findIndex(p=>Ee(p,t));if(r===-1||n===-1)return[];const[i,f]=[r,n].sort((p,g)=>p-g);return a.slice(i,f+1)}function kt(a){const s=K(()=>e(a)),t=K(()=>new Intl.Collator("en",{usage:"search",...s.value}));return{startsWith:(f,p)=>p.length===0?!0:(f=f.normalize("NFC"),p=p.normalize("NFC"),t.value.compare(f.slice(0,p.length),p)===0),endsWith:(f,p)=>p.length===0?!0:(f=f.normalize("NFC"),p=p.normalize("NFC"),t.value.compare(f.slice(-p.length),p)===0),contains:(f,p)=>{if(p.length===0)return!0;f=f.normalize("NFC"),p=p.normalize("NFC");let g=0;const S=p.length;for(;g+S<=f.length;g++){const b=f.slice(g,g+S);if(t.value.compare(p,b)===0)return!0}return!1}}}var wt=k({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const{forwardRef:s}=Z();return(t,r)=>(h(),q(e(Ue),{"as-child":"",reference:t.reference},{default:d(()=>[v(e(D),O({ref:e(s),"as-child":t.asChild,as:t.as},t.$attrs),{default:d(()=>[w(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),St=wt;function Bt(a,s,t){return a===void 0?!1:Array.isArray(a)?a.some(r=>ge(r,s,t)):ge(a,s,t)}function ge(a,s,t){return a===void 0||s===void 0?!1:typeof a=="string"?a===s:typeof t=="function"?t(a,s):typeof t=="string"?a?.[t]===s?.[t]:Ee(a,s)}const[Se,It]=ie("ListboxRoot");var Vt=k({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(a,{expose:s,emit:t}){const r=a,n=t,{multiple:i,highlightOnHover:f,orientation:p,disabled:g,selectionBehavior:S,dir:b}=Fe(r),{getItems:o}=Pe({isProvider:!0}),{handleTypeaheadSearch:u}=We(),{primitiveElement:x,currentElement:m}=ye(),B=bt(),N=Re(b),Be=ht(m),U=P(),R=P(!1),oe=P(!0),E=be(r,"modelValue",n,{defaultValue:r.defaultValue??(i.value?[]:void 0),passive:r.modelValue===void 0,deep:!0});function xe(c){if(R.value=!0,r.multiple){const y=Array.isArray(E.value)?[...E.value]:[],_=y.findIndex(F=>ge(F,c,r.by));r.selectionBehavior==="toggle"?(_===-1?y.push(c):y.splice(_,1),E.value=y):(E.value=[c],U.value=c)}else r.selectionBehavior==="toggle"&&ge(E.value,c,r.by)?E.value=void 0:E.value=c;setTimeout(()=>{R.value=!1},1)}const $=P(null),W=P(null),z=P(!1),ue=P(!1),J=ke(),ae=ke(),X=ke();function I(){return o().map(c=>c.ref).filter(c=>c.dataset.disabled!=="")}function T(c,y=!0){if(!c)return;$.value=c,oe.value&&$.value.focus(),y&&$.value.scrollIntoView({block:"nearest"});const _=o().find(F=>F.ref===c);n("highlight",_)}function A(c){if(z.value)X.trigger(c);else{const y=o().find(_=>ge(_.value,c,r.by));y&&($.value=y.ref,T(y.ref))}}function Ce(c){$.value&&$.value.isConnected&&(c.preventDefault(),c.stopPropagation(),ue.value||$.value.click())}function de(c){if(oe.value){if(R.value=!0,z.value)ae.trigger(c);else{const y=c.altKey||c.ctrlKey||c.metaKey;if(y&&c.key==="a"&&i.value){const _=o(),F=_.map(se=>se.value);E.value=[...F],c.preventDefault(),T(_[_.length-1].ref)}else if(!y){const _=u(c.key,o());_&&T(_)}}setTimeout(()=>{R.value=!1},1)}}function pe(){ue.value=!0}function le(){j(()=>{ue.value=!1})}function Le(){j(()=>{const c=new KeyboardEvent("keydown",{key:"PageUp"});Ke(c)})}function Ie(c){const y=$.value;y?.isConnected&&(W.value=y),$.value=null,n("leave",c)}function Ge(c){const y=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(c.currentTarget?.dispatchEvent(y),n("entryFocus",y),!y.defaultPrevented)if(W.value)T(W.value);else{const _=I()?.[0];T(_)}}function Ke(c){const y=vt(c,p.value,N.value);if(!y)return;let _=I();if($.value){if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const F=_.indexOf($.value);_=_.slice(F+1)}je(c,_[0])}if(_.length){const F=!$.value&&y==="prev"?_.length-1:0;T(_[F])}if(z.value)return ae.trigger(c)}function je(c,y){if(!(z.value||r.selectionBehavior!=="replace"||!i.value||!Array.isArray(E.value)||(c.altKey||c.ctrlKey||c.metaKey)&&!c.shiftKey)&&c.shiftKey){const F=o().filter(ce=>ce.ref.dataset.disabled!=="");let se=F.find(ce=>ce.ref===y)?.value;if(c.key===B.END?se=F[F.length-1].value:c.key===B.HOME&&(se=F[0].value),!se||!U.value)return;const He=qt(F.map(ce=>ce.value),U.value,se);E.value=He}}async function Ne(c){if(await j(),z.value)J.trigger(c);else{const y=I(),_=y.find(F=>F.dataset.state==="checked");_?T(_):y.length&&T(y[0])}}return Oe(E,()=>{R.value||j(()=>{Ne()})},{immediate:!0,deep:!0}),s({highlightedElement:$,highlightItem:A,highlightFirstItem:Le,highlightSelected:Ne,getItems:o}),It({modelValue:E,onValueChange:xe,multiple:i,orientation:p,dir:N,disabled:g,highlightOnHover:f,highlightedElement:$,isVirtual:z,virtualFocusHook:J,virtualKeydownHook:ae,virtualHighlightHook:X,by:r.by,firstValue:U,selectionBehavior:S,focusable:oe,onLeave:Ie,onEnter:Ge,changeHighlight:T,onKeydownEnter:Ce,onKeydownNavigation:Ke,onKeydownTypeAhead:de,onCompositionStart:pe,onCompositionEnd:le,highlightFirstItem:Le}),(c,y)=>(h(),q(e(D),{ref_key:"primitiveElement",ref:x,as:c.as,"as-child":c.asChild,dir:e(N),"data-disabled":e(g)?"":void 0,onPointerleave:Ie,onFocusout:y[0]||(y[0]=async _=>{const F=_.relatedTarget||_.target;await j(),$.value&&e(m)&&!e(m).contains(F)&&Ie(_)})},{default:d(()=>[w(c.$slots,"default",{modelValue:e(E)}),e(Be)&&c.name?(h(),q(e(yt),{key:0,name:c.name,value:e(E),disabled:e(g),required:c.required},null,8,["name","value","disabled","required"])):M("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Ot=Vt,Et=k({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const{CollectionSlot:s}=Pe(),t=Se(),r=mt(!1,10);return(n,i)=>(h(),q(e(s),null,{default:d(()=>[v(e(D),{role:"listbox",as:n.as,"as-child":n.asChild,tabindex:e(t).focusable.value?e(t).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(t).orientation.value,"aria-multiselectable":!!e(t).multiple.value,"data-orientation":e(t).orientation.value,onMousedown:i[0]||(i[0]=he(f=>r.value=!0,["left"])),onFocus:i[1]||(i[1]=f=>{e(r)||e(t).onEnter(f)}),onKeydown:[i[2]||(i[2]=ne(he(f=>{e(t).focusable.value&&e(t).onKeydownNavigation(f)},["prevent"]),["down","up","left","right","home","end"])),ne(e(t).onKeydownEnter,["enter"]),e(t).onKeydownTypeAhead]},{default:d(()=>[w(n.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Ft=Et,$t=k({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(a,{emit:s}){const t=a,n=be(t,"modelValue",s,{defaultValue:"",passive:t.modelValue===void 0}),i=Se(),{primitiveElement:f,currentElement:p}=ye(),g=K(()=>t.disabled||i.disabled.value||!1),S=P();return lt(()=>S.value=i.highlightedElement.value?.id),Y(()=>{i.focusable.value=!1,setTimeout(()=>{t.autoFocus&&p.value?.focus()},1)}),we(()=>{i.focusable.value=!0}),(b,o)=>(h(),q(e(D),{ref_key:"primitiveElement",ref:f,as:b.as,"as-child":b.asChild,value:e(n),disabled:g.value?"":void 0,"data-disabled":g.value?"":void 0,"aria-disabled":g.value??void 0,"aria-activedescendant":S.value,type:"text",onKeydown:[ne(he(e(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ne(e(i).onKeydownEnter,["enter"])],onInput:o[0]||(o[0]=u=>{n.value=u.target.value,e(i).highlightFirstItem()}),onCompositionstart:e(i).onCompositionStart,onCompositionend:e(i).onCompositionEnd},{default:d(()=>[w(b.$slots,"default",{modelValue:e(n)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Pt=$t;const[Ka,Tt]=ie("ListboxGroup");var Lt=k({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const s=a,t=re(void 0,"reka-listbox-group");return Tt({id:t}),(r,n)=>(h(),q(e(D),O({role:"group"},s,{"aria-labelledby":e(t)}),{default:d(()=>[w(r.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Kt=Lt;const Nt="listbox.select",[Dt,zt]=ie("ListboxItem");var Rt=k({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(a,{emit:s}){const t=a,r=s,n=re(void 0,"reka-listbox-item"),{CollectionItem:i}=Pe(),{forwardRef:f,currentElement:p}=Z(),g=Se(),S=K(()=>p.value===g.highlightedElement.value),b=K(()=>Bt(g.modelValue.value,t.value,g.by)),o=K(()=>g.disabled.value||t.disabled);async function u(m){r("select",m),!m?.defaultPrevented&&!o.value&&m&&(g.onValueChange(t.value),g.changeHighlight(p.value))}function x(m){const B={originalEvent:m,value:t.value};Je(Nt,u,B)}return zt({isSelected:b}),(m,B)=>(h(),q(e(i),{value:m.value},{default:d(()=>[st([S.value,b.value],()=>v(e(D),O({id:e(n)},m.$attrs,{ref:e(f),role:"option",tabindex:e(g).focusable.value?S.value?"0":"-1":-1,"aria-selected":b.value,as:m.as,"as-child":m.asChild,disabled:o.value?"":void 0,"data-disabled":o.value?"":void 0,"data-highlighted":S.value?"":void 0,"data-state":b.value?"checked":"unchecked",onClick:x,onKeydown:ne(he(x,["prevent"]),["space"]),onPointermove:B[0]||(B[0]=N=>{e(g).highlightedElement.value!==e(p)&&(e(g).highlightOnHover.value?e(g).changeHighlight(e(p),!1):e(g).focusable.value||e(g).changeHighlight(e(p),!1))})}),{default:d(()=>[w(m.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),B,1)]),_:3},8,["value"]))}}),At=Rt,Mt=k({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(a){const s=a;Z();const t=Dt();return(r,n)=>e(t).isSelected.value?(h(),q(e(D),O({key:0,"aria-hidden":"true"},s),{default:d(()=>[w(r.$slots,"default")]),_:3},16)):M("v-if",!0)}}),Gt=Mt;const[te,jt]=ie("ComboboxRoot");var Ht=k({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(a,{expose:s,emit:t}){const r=a,n=t,{primitiveElement:i,currentElement:f}=ye(),{multiple:p,disabled:g,ignoreFilter:S,resetSearchTermOnSelect:b,openOnFocus:o,openOnClick:u,dir:x}=Fe(r),m=Re(x),B=be(r,"modelValue",n,{defaultValue:r.defaultValue??(p.value?[]:void 0),passive:r.modelValue===void 0,deep:!0}),N=be(r,"open",n,{defaultValue:r.defaultOpen,passive:r.open===void 0});async function Be(I){N.value=I,J.value="",I?(await j(),i.value?.highlightSelected(),R.value=!0):R.value=!1,E.value?.focus(),setTimeout(()=>{!I&&r.resetSearchTermOnBlur&&U.trigger()},1)}const U=ke(),R=P(!1),oe=P(!1),E=P(),xe=P(),$=K(()=>i.value?.highlightedElement??void 0),W=P(new Map),z=P(new Map),{contains:ue}=kt({sensitivity:"base"}),J=P(""),ae=K(I=>{if(!J.value||r.ignoreFilter||oe.value)return{count:W.value.size,items:I?.items??new Map,groups:I?.groups??new Set(z.value.keys())};let T=0;const A=new Map,Ce=new Set;for(const[de,pe]of W.value){const le=ue(pe,J.value);A.set(de,le?1:0),le&&T++}for(const[de,pe]of z.value)for(const le of pe)if(A.get(le)>0){Ce.add(de);break}return{count:T,items:A,groups:Ce}}),X=nt();return Y(()=>{X?.exposed&&(X.exposed.highlightItem=i.value?.highlightItem,X.exposed.highlightFirstItem=i.value?.highlightFirstItem,X.exposed.highlightSelected=i.value?.highlightSelected)}),s({filtered:ae,highlightedElement:$,highlightItem:i.value?.highlightItem,highlightFirstItem:i.value?.highlightFirstItem,highlightSelected:i.value?.highlightSelected}),jt({modelValue:B,multiple:p,disabled:g,open:N,onOpenChange:Be,contentId:"",isUserInputted:R,isVirtual:oe,inputElement:E,highlightedElement:$,onInputElementChange:I=>E.value=I,triggerElement:xe,onTriggerElementChange:I=>xe.value=I,parentElement:f,resetSearchTermOnSelect:b,onResetSearchTerm:U.on,allItems:W,allGroups:z,filterSearch:J,filterState:ae,ignoreFilter:S,openOnFocus:o,openOnClick:u}),(I,T)=>(h(),q(e(Xe),null,{default:d(()=>[v(e(Ot),O({ref_key:"primitiveElement",ref:i},I.$attrs,{modelValue:e(B),"onUpdate:modelValue":T[0]||(T[0]=A=>De(B)?B.value=A:null),style:{pointerEvents:e(N)?"auto":void 0},as:I.as,"as-child":I.asChild,dir:e(m),multiple:e(p),name:I.name,required:I.required,disabled:e(g),"highlight-on-hover":!0,by:r.by,onHighlight:T[1]||(T[1]=A=>n("highlight",A))}),{default:d(()=>[w(I.$slots,"default",{open:e(N),modelValue:e(B)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),Ut=Ht;const[Na,Wt]=ie("ComboboxContent");var Jt=k({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(a,{emit:s}){const t=a,r=s,{position:n}=Fe(t),i=te(),{forwardRef:f,currentElement:p}=Z();Qe(t.bodyLock),Ye(i.parentElement);const g=K(()=>t.position==="popper"?t:{}),S=Te(g.value),b={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};Wt({position:n});const o=P(!1);return Y(()=>{i.inputElement.value&&(o.value=p.value.contains(i.inputElement.value),o.value&&i.inputElement.value.focus())}),we(()=>{o.value&&i.triggerElement.value?.focus()}),(u,x)=>(h(),q(e(Ft),{"as-child":""},{default:d(()=>[v(e(Ze),{"as-child":"","disable-outside-pointer-events":u.disableOutsidePointerEvents,onDismiss:x[0]||(x[0]=m=>e(i).onOpenChange(!1)),onFocusOutside:x[1]||(x[1]=m=>{e(i).parentElement.value?.contains(m.target)&&m.preventDefault(),r("focusOutside",m)}),onInteractOutside:x[2]||(x[2]=m=>r("interactOutside",m)),onEscapeKeyDown:x[3]||(x[3]=m=>r("escapeKeyDown",m)),onPointerDownOutside:x[4]||(x[4]=m=>{e(i).parentElement.value?.contains(m.target)&&m.preventDefault(),r("pointerDownOutside",m)})},{default:d(()=>[(h(),q(it(e(n)==="popper"?e(et):e(D)),O({...u.$attrs,...e(S)},{id:e(i).contentId,ref:e(f),"data-state":e(i).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(n)==="popper"?b:{}}}),{default:d(()=>[w(u.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),Xt=Jt,Qt=k({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(a,{emit:s}){const n=_e(a,s),{forwardRef:i}=Z(),f=te();return f.contentId||=re(void 0,"reka-combobox-content"),(p,g)=>(h(),q(e(gt),{present:p.forceMount||e(f).open.value},{default:d(()=>[v(Xt,O({...e(n),...p.$attrs},{ref:e(i)}),{default:d(()=>[w(p.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Yt=Qt,Zt=k({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const s=a,t=te(),r=K(()=>t.ignoreFilter.value?t.allItems.value.size===0:t.filterState.value.count===0);return(n,i)=>r.value?(h(),q(e(D),$e(O({key:0},s)),{default:d(()=>[w(n.$slots,"default",{},()=>[i[0]||(i[0]=V("No options"))])]),_:3},16)):M("v-if",!0)}}),eo=Zt;const[Ae,to]=ie("ComboboxGroup");var oo=k({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const s=a,t=re(void 0,"reka-combobox-group"),r=te(),n=K(()=>r.ignoreFilter.value?!0:r.filterSearch.value?r.filterState.value.groups.has(t):!0),i=to({id:t,labelId:""});return Y(()=>{r.allGroups.value.has(t)||r.allGroups.value.set(t,new Set)}),we(()=>{r.allGroups.value.delete(t)}),(f,p)=>(h(),q(e(Kt),O({id:e(t),"aria-labelledby":e(i).labelId},s,{hidden:n.value?void 0:!0}),{default:d(()=>[w(f.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),ao=oo,lo=k({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(a,{emit:s}){const t=a,r=s,n=te(),i=Se(),{primitiveElement:f,currentElement:p}=ye(),g=be(t,"modelValue",r,{passive:t.modelValue===void 0});Y(()=>{p.value&&n.onInputElementChange(p.value)});function S(m){n.open.value||n.onOpenChange(!0)}function b(m){const B=m.target;n.open.value?n.filterSearch.value=B.value:(n.onOpenChange(!0),j(()=>{B.value&&(n.filterSearch.value=B.value,i.highlightFirstItem())}))}function o(){n.openOnFocus.value&&!n.open.value&&n.onOpenChange(!0)}function u(){n.openOnClick.value&&!n.open.value&&n.onOpenChange(!0)}function x(){const m=n.modelValue.value;t.displayValue?g.value=t.displayValue(m):!n.multiple.value&&m&&!Array.isArray(m)&&typeof m!="object"?g.value=m.toString():g.value="",j(()=>{g.value=g.value})}return n.onResetSearchTerm(()=>{x()}),Oe(n.modelValue,async()=>{!n.isUserInputted.value&&n.resetSearchTermOnSelect.value&&x()},{immediate:!0,deep:!0}),Oe(n.filterState,()=>{n.isVirtual.value||i.highlightFirstItem()}),(m,B)=>(h(),q(e(Pt),{ref_key:"primitiveElement",ref:f,modelValue:e(g),"onUpdate:modelValue":B[0]||(B[0]=N=>De(g)?g.value=N:null),as:m.as,"as-child":m.asChild,"auto-focus":m.autoFocus,disabled:m.disabled,"aria-expanded":e(n).open.value,"aria-controls":e(n).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:u,onInput:b,onKeydown:ne(he(S,["prevent"]),["down","up"]),onFocus:o},{default:d(()=>[w(m.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),so=lo,no=k({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(a,{emit:s}){const t=a,r=s,n=re(void 0,"reka-combobox-item"),i=te(),f=Ae(null),{primitiveElement:p,currentElement:g}=ye();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const S=K(()=>{if(i.isVirtual.value||i.ignoreFilter.value||!i.filterSearch.value)return!0;{const b=i.filterState.value.items.get(n);return b===void 0?!0:b>0}});return Y(()=>{i.allItems.value.set(n,t.textValue||g.value.textContent||g.value.innerText);const b=f?.id;b&&(i.allGroups.value.has(b)?i.allGroups.value.get(b)?.add(n):i.allGroups.value.set(b,new Set([n])))}),we(()=>{i.allItems.value.delete(n)}),(b,o)=>S.value?(h(),q(e(At),O({key:0},t,{id:e(n),ref_key:"primitiveElement",ref:p,disabled:e(i).disabled.value||b.disabled,onSelect:o[0]||(o[0]=u=>{r("select",u),!u.defaultPrevented&&!e(i).multiple.value&&!b.disabled&&!e(i).disabled.value&&(u.preventDefault(),e(i).onOpenChange(!1),e(i).modelValue.value=t.value)})}),{default:d(()=>[w(b.$slots,"default",{},()=>[V(C(b.value),1)])]),_:3},16,["id","disabled"])):M("v-if",!0)}}),io=no,ro=k({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(a){const s=a;return(t,r)=>(h(),q(e(Gt),$e(ze(s)),{default:d(()=>[w(t.$slots,"default")]),_:3},16))}}),uo=ro,po=k({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(a){const s=a;Z();const t=Ae({id:"",labelId:""});return t.labelId||=re(void 0,"reka-combobox-group-label"),(r,n)=>(h(),q(e(D),O(s,{id:e(t).labelId}),{default:d(()=>[w(r.$slots,"default")]),_:3},16,["id"]))}}),co=po,fo=k({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(a){const s=a;return(t,r)=>(h(),q(e(tt),$e(ze(s)),{default:d(()=>[w(t.$slots,"default")]),_:3},16))}}),mo=fo,vo=k({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const s=a,{forwardRef:t,currentElement:r}=Z(),n=te(),i=K(()=>s.disabled||n.disabled.value||!1);return Y(()=>{r.value&&n.onTriggerElementChange(r.value)}),(f,p)=>(h(),q(e(D),O(s,{ref:e(t),type:f.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(n).open.value,"aria-controls":e(n).contentId,"data-state":e(n).open.value?"open":"closed",disabled:i.value,"data-disabled":i.value?"":void 0,"aria-disabled":i.value??void 0,onClick:p[0]||(p[0]=g=>e(n).onOpenChange(!e(n).open.value))}),{default:d(()=>[w(f.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),go=vo;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=ut("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ho=k({__name:"Combobox",props:{open:{type:Boolean},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},openOnFocus:{type:Boolean},openOnClick:{type:Boolean},ignoreFilter:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{type:[String,Function]},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(a,{emit:s}){const n=_e(a,s);return(i,f)=>(h(),q(e(Ut),O({"data-slot":"combobox"},e(n)),{default:d(()=>[w(i.$slots,"default")]),_:3},16))}}),bo=k({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{},class:{}},setup(a){const s=a,t=ee(s,"class"),r=Te(t);return(n,i)=>(h(),q(e(St),O({"data-slot":"combobox-anchor"},e(r),{class:e(H)("w-[200px]",s.class)}),{default:d(()=>[w(n.$slots,"default")]),_:3},16,["class"]))}}),yo=k({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const s=a,t=ee(s,"class");return(r,n)=>(h(),q(e(eo),O({"data-slot":"combobox-empty"},e(t),{class:e(H)("py-6 text-center text-sm",s.class)}),{default:d(()=>[w(r.$slots,"default")]),_:3},16,["class"]))}}),_o=k({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(a){const s=a,t=ee(s,"class");return(r,n)=>(h(),q(e(ao),O({"data-slot":"combobox-group"},e(t),{class:e(H)("overflow-hidden p-1 text-foreground",s.class)}),{default:d(()=>[r.heading?(h(),q(e(co),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:d(()=>[V(C(r.heading),1)]),_:1})):M("",!0),w(r.$slots,"default")]),_:3},16,["class"]))}}),xo={"data-slot":"command-input-wrapper",class:"flex h-9 items-center gap-2 border-b px-3"},Co=k({inheritAttrs:!1,__name:"ComboboxInput",props:{displayValue:{type:Function},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(a,{emit:s}){const t=a,r=s,n=ee(t,"class"),i=_e(n,r);return(f,p)=>(h(),L("div",xo,[v(e(Me),{class:"size-4 shrink-0 opacity-50"}),v(e(so),O({"data-slot":"command-input",class:e(H)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t.class)},{...e(i),...f.$attrs}),{default:d(()=>[w(f.$slots,"default")]),_:3},16,["class"])]))}}),qo=k({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(a,{emit:s}){const t=a,r=s,n=ee(t,"class"),i=_e(n,r);return(f,p)=>(h(),q(e(io),O({"data-slot":"combobox-item"},e(i),{class:e(H)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t.class)}),{default:d(()=>[w(f.$slots,"default")]),_:3},16,["class"]))}}),ko=k({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const s=a,t=ee(s,"class"),r=Te(t);return(n,i)=>(h(),q(e(uo),O({"data-slot":"combobox-item-indicator"},e(r),{class:e(H)("ml-auto",s.class)}),{default:d(()=>[w(n.$slots,"default")]),_:3},16,["class"]))}}),wo=k({__name:"ComboboxList",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{default:"center"},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(a,{emit:s}){const t=a,r=s,n=ee(t,"class"),i=_e(n,r);return(f,p)=>(h(),q(e(mo),null,{default:d(()=>[v(e(Yt),O({"data-slot":"combobox-list"},e(i),{class:e(H)("z-50 w-[200px] rounded-md border bg-popover text-popover-foreground origin-(--reka-combobox-content-transform-origin) overflow-hidden shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:d(()=>[w(f.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),So={class:"flex flex-col p-4 overflow-x-auto h-full"},Bo={class:"text-2xl font-bold mb-4"},Io={class:"grid grid-cols-1 lg:grid-cols-[2fr_3fr] gap-6 h-full"},Vo={class:"space-y-3 bg-white rounded-xl p-4 shadow"},Oo={class:"flex flex-col"},Eo={class:"flex flex-col"},Fo={class:"flex flex-col"},$o={class:"flex flex-col"},Po={class:"flex flex-col"},To={class:"relative w-full max-w-sm items-center"},Lo={class:"absolute start-0 inset-y-0 flex items-center justify-center px-3"},Ko={class:"flex flex-col"},No={class:"flex flex-col"},Do={class:"flex flex-col"},zo={class:"flex flex-col gap-6"},Ro={class:"bg-white rounded-xl p-4 shadow flex-1 overflow-auto max-h-[400px] h-100"},Ao={class:"min-w-full border text-sm"},Mo={class:"p-2"},Go={class:"bg-white rounded-xl p-4 shadow"},jo={class:"flex justify-between mb-2 items-center"},Ho={class:"max-h-[200px] h-100 overflow-y-auto"},Uo={class:"min-w-full border text-sm"},Wo={class:"p-2"},Jo={class:"p-2"},Xo={class:"p-2"},Qo={class:"p-2"},Yo={class:"p-2"},Zo={class:"p-2"},ea={class:"p-2"},ta={class:"p-2 flex gap-2"},oa={class:"bg-white rounded-xl p-4 shadow max-h-[200px] overflow-y-auto h-100"},aa={key:0,class:"text-gray-500"},la={class:"grid grid-cols-1 lg:grid-cols-[2fr_3fr] gap-6 mt-6"},sa={class:"bg-white rounded-xl p-4 shadow"},na={key:0,class:"min-w-full border text-sm"},ia={class:"p-2"},ra={class:"p-2"},ua={class:"p-2"},da={class:"p-2"},pa={key:1,class:"text-gray-500"},ca={class:"bg-white rounded-xl p-4 shadow"},fa={class:"min-w-full border text-sm"},ma={class:"p-2"},va={class:"p-2"},ga={class:"p-2"},ha={class:"p-2"},ba={class:"p-2"},ya={class:"p-2"},Da=k({__name:"Show",props:{organisation:{type:Object,required:!0},customers:{type:Array,required:!0}},setup(a){const s=a;let t=s.organisation.customer;console.log("Organisation:",s.organisation);const r=P([]),n=P([]),i=[{title:"Organisations",href:"/sales/organisations"},{title:s.organisation.name,href:`/sales/organisations/${s.organisation.id}`}],f=()=>{let b=s.organisation.customer;if(b){const o=t?.id;fetch(`/sales/organisations/${s.organisation.id}/change-customer`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({cus_id:b.id})}).then(u=>{u.ok?(o&&(s.organisation.contacts=s.organisation.contacts.filter(x=>x.cus_id!==o)),t=b):s.organisation.customer=t}).catch(u=>{console.error("Error updating customer:",u),s.organisation.customer=t})}},p=b=>{if(s.organisation.contacts.find(u=>u.id===b).is_primary){console.log("Contact is already primary:",b);return}fetch(`/sales/organisations/${s.organisation.id}/make-primary-contact`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({contact_id:b})}).then(u=>{if(u.ok){s.organisation.contacts.forEach(m=>{m.is_primary=!1});const x=s.organisation.contacts.find(m=>m.id===b);x&&(x.is_primary=!0)}else console.error("Failed to update primary contact")})},g=b=>{fetch(`/sales/organisations/${s.organisation.id}/remove-contact`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({contact_id:b})})},S=()=>{fetch(`/sales/organisations/${s.organisation.id}/update-notes`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({notes:s.organisation.notes})})};return(b,o)=>(h(),L(Q,null,[v(e(rt),{title:`Organisation - ${a.organisation.name}`},null,8,["title"]),v(at,{breadcrumbs:i},{default:d(()=>[l("div",So,[l("h1",Bo,C(a.organisation.name),1),l("div",Io,[l("div",Vo,[l("div",Oo,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[5]||(o[5]=[V("Navn",-1)])),_:1,__:[5]}),v(e(me),{modelValue:a.organisation.name,readonly:""},null,8,["modelValue"])]),l("div",Eo,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[6]||(o[6]=[V("CVR",-1)])),_:1,__:[6]}),v(e(me),{modelValue:a.organisation.cvr,readonly:""},null,8,["modelValue"])]),l("div",Fo,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[7]||(o[7]=[V("Adresse",-1)])),_:1,__:[7]}),v(e(me),{modelValue:`${a.organisation.address}, ${a.organisation.zip}`,readonly:""},null,8,["modelValue"])]),l("div",$o,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[8]||(o[8]=[V("Land",-1)])),_:1,__:[8]}),v(e(me),{modelValue:a.organisation.country,readonly:""},null,8,["modelValue"])]),l("div",Po,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[9]||(o[9]=[V("Kunde",-1)])),_:1,__:[9]}),v(e(ho),{modelValue:a.organisation.customer,"onUpdate:modelValue":[o[0]||(o[0]=u=>a.organisation.customer=u),f],by:"id"},{default:d(()=>[v(e(bo),{"as-child":"",class:"!w-full"},{default:d(()=>[v(e(go),{"as-child":""},{default:d(()=>[v(e(ve),{variant:"outline",class:"justify-between w-full"},{default:d(()=>[V(C(a.organisation.customer?.name||"Vælg kunde")+" ",1),v(e(ot),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:1})]),_:1}),v(e(wo),{class:"!w-full"},{default:d(()=>[l("div",To,[v(e(Co),{class:"pl-9 focus-visible:ring-0 border-0 border-b rounded-none h-10",placeholder:"Search customers"}),l("span",Lo,[v(e(Me),{class:"size-4 text-muted-foreground"})])]),v(e(yo),null,{default:d(()=>o[10]||(o[10]=[l("div",{class:"p-2 text-sm text-gray-500"},"Ingen kunder fundet.",-1)])),_:1,__:[10]}),v(e(_o),null,{default:d(()=>[(h(!0),L(Q,null,fe(s.customers,u=>(h(),q(e(qo),{key:u.id,value:u},{default:d(()=>[V(C(u.name)+" - "+C(u.email)+" ",1),v(e(ko),null,{default:d(()=>[v(e(Ct),{class:Ve(e(H)("ml-auto h-4 w-4"))},null,8,["class"])]),_:1})]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",Ko,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[11]||(o[11]=[V("Valuta",-1)])),_:1,__:[11]}),v(e(me),{modelValue:a.organisation.customer?.currency,readonly:""},null,8,["modelValue"])]),l("div",No,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[12]||(o[12]=[V("Type",-1)])),_:1,__:[12]}),v(e(dt),{modelValue:a.organisation.type,"onUpdate:modelValue":o[1]||(o[1]=u=>a.organisation.type=u),class:"w-full"},{default:d(()=>[v(e(pt),{class:"col-span-3 w-full"},{default:d(()=>[v(e(ct),{placeholder:"Select type"})]),_:1}),v(e(ft),null,{default:d(()=>[v(e(qe),{value:"organisation"},{default:d(()=>o[13]||(o[13]=[V("Organisation",-1)])),_:1,__:[13]}),v(e(qe),{value:"forening/club"},{default:d(()=>o[14]||(o[14]=[V("Forening/Club",-1)])),_:1,__:[14]}),v(e(qe),{value:"company"},{default:d(()=>o[15]||(o[15]=[V("Company",-1)])),_:1,__:[15]}),v(e(qe),{value:"school"},{default:d(()=>o[16]||(o[16]=[V("School",-1)])),_:1,__:[16]})]),_:1})]),_:1},8,["modelValue"])]),l("div",Do,[v(e(G),{class:"font-semibold capitalize"},{default:d(()=>o[17]||(o[17]=[V("Noter",-1)])),_:1,__:[17]}),v(e(_t),{modelValue:a.organisation.notes,"onUpdate:modelValue":o[2]||(o[2]=u=>a.organisation.notes=u),class:"mb-2",placeholder:"Skriv noter her..."},null,8,["modelValue"]),v(e(ve),{onClick:o[3]||(o[3]=u=>S())},{default:d(()=>o[18]||(o[18]=[V("Gem noter",-1)])),_:1,__:[18]})])]),l("div",zo,[l("div",Ro,[o[20]||(o[20]=l("h2",{class:"font-semibold mb-2"},"Opgaveliste",-1)),l("table",Ao,[o[19]||(o[19]=l("thead",{class:"bg-gray-100 sticky top-0"},[l("tr",null,[l("th",{class:"p-2 text-left"},"Opgave"),l("th",null,"Status"),l("th",null,"Dato"),l("th",null,"Varighed"),l("th",null,"Sælger"),l("th",null,"Salgskode"),l("th",null,"Note")])],-1)),l("tbody",null,[(h(!0),L(Q,null,fe(r.value,(u,x)=>(h(),L("tr",{key:x,class:"border-t"},[l("td",Mo,C(u.task),1),l("td",null,C(u.status),1),l("td",null,C(u.date),1),l("td",null,C(u.duration),1),l("td",null,C(u.seller),1),l("td",null,C(u.salesCode),1),l("td",null,C(u.note),1)]))),128))])])]),l("div",Go,[l("div",jo,[o[21]||(o[21]=l("h2",{class:"font-semibold"},"Kontakter",-1)),v(e(xt),{organisation:a.organisation},null,8,["organisation"])]),l("div",Ho,[l("table",Uo,[o[27]||(o[27]=l("thead",{class:"bg-gray-100"},[l("tr",null,[l("th",{class:"p-2 text-left"},"Kontaktperson"),l("th",{class:"p-2 text-left"},"Jobfunktion"),l("th",{class:"p-2 text-left"},"Telefon"),l("th",{class:"p-2 text-left"},"Email"),l("th",{class:"p-2 text-left"},"Handling")])],-1)),l("tbody",null,[l("tr",{class:Ve(["border-t",{"bg-green-100":a.organisation.contacts?.find(u=>u.cus_id===a.organisation.customer?.id&&u.is_primary)}])},[l("td",Wo,C(a.organisation.customer?.name),1),o[23]||(o[23]=l("td",{class:"p-2"},"Stripe bruger",-1)),o[24]||(o[24]=l("td",{class:"p-2"},"Ikke angivet",-1)),l("td",Jo,C(a.organisation.customer?.email||"Ikke angivet"),1),l("td",Xo,[v(e(ve),{variant:"outline",size:"sm",onClick:o[4]||(o[4]=u=>p(a.organisation.contacts?.find(x=>x.cus_id===a.organisation.customer?.id)?.id))},{default:d(()=>o[22]||(o[22]=[V(" Sæt primær ",-1)])),_:1,__:[22]})])],2),(h(!0),L(Q,null,fe(a.organisation.contacts,(u,x)=>(h(),L(Q,{key:x},[u.cus_id!==a.organisation.customer.id?(h(),L("tr",{key:0,class:Ve(["border-t",{"bg-green-100":u.is_primary}])},[l("td",Qo,C(u?.customer?.name??u.contact?.name),1),l("td",Yo,C(u.contact?.job??"Ikke angivet"),1),l("td",Zo,C(u.contact?.phone??"Ikke angivet"),1),l("td",ea,C(u.customer?.email??u.contact?.email??"Ikke angivet"),1),l("td",ta,[v(e(ve),{variant:"outline",size:"sm",onClick:m=>p(u.id)},{default:d(()=>o[25]||(o[25]=[V("Sæt primær",-1)])),_:2,__:[25]},1032,["onClick"]),v(e(ve),{variant:"destructive",size:"sm",onClick:m=>g(u.id)},{default:d(()=>o[26]||(o[26]=[V("Fjern",-1)])),_:2,__:[26]},1032,["onClick"])])],2)):M("",!0)],64))),128))])])])]),l("div",oa,[o[28]||(o[28]=l("h2",{class:"font-semibold mb-2"},"Aftaler",-1)),n.value.length===0?(h(),L("div",aa,"Ingen aftaler")):M("",!0)])])]),l("div",la,[l("div",sa,[o[30]||(o[30]=l("h2",{class:"font-semibold mb-2"},"Hold",-1)),s.organisation?.customer?.user?.owned_teams.length?(h(),L("table",na,[o[29]||(o[29]=l("thead",{class:"bg-gray-100"},[l("tr",null,[l("th",{class:"p-2 text-left"},"Navn"),l("th",{class:"p-2 text-left"},"Medlemmer"),l("th",{class:"p-2 text-left"},"Stratbooks"),l("th",{class:"p-2 text-left"},"Strats")])],-1)),l("tbody",null,[(h(!0),L(Q,null,fe(s.organisation?.customer?.user?.owned_teams,u=>(h(),L("tr",{class:"border-t",key:u.id},[l("td",ia,C(u.name),1),l("td",ra,C(u.users_count),1),l("td",ua,C(u.stratbooks_count),1),l("td",da,C(u.tactics_count),1)]))),128))])])):M("",!0),s.organisation?.customer?.user?.owned_teams.length===0?(h(),L("div",pa,"Ingen hold")):M("",!0)]),l("div",ca,[o[32]||(o[32]=l("h2",{class:"font-semibold mb-2"},"Pakker",-1)),l("table",fa,[o[31]||(o[31]=l("thead",{class:"bg-gray-100"},[l("tr",null,[l("th",{class:"p-2 text-left"},"Navn"),l("th",{class:"p-2 text-left"},"Pris"),l("th",{class:"p-2 text-left"},"Månedlig Pris"),l("th",{class:"p-2 text-left"},"Maks. Medlemmer"),l("th",{class:"p-2 text-left"},"Maks. Teams"),l("th",{class:"p-2 text-left"},"Maks. Stratbooks")])],-1)),l("tbody",null,[(h(!0),L(Q,null,fe(a.organisation.packages,u=>(h(),L("tr",{key:u.id,class:"border-t"},[l("td",ma,C(u.name),1),l("td",va,"€"+C(u.price),1),l("td",ga,"€"+C(u.monthly_price),1),l("td",ha,C(u.max_members),1),l("td",ba,C(u.max_teams),1),l("td",ya,C(u.max_stratbooks),1)]))),128))])])])])])]),_:1})],64))}});export{Da as default};
