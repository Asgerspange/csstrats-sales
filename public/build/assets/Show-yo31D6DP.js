import{h as z,_ as D,a as A,b as B,m as I,M as U,U as H,n as u,o as f,c as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-BtIDg7R2.js";import{d as F,i as R,c as r,o as d,b as e,u as s,p as P,w as t,a,S as q,e as o,t as n,l as p,F as h,r as v,n as C}from"./app-CbWppnbc.js";import{c as k,_ as M}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DYmTopAa.js";import{a as g,b as x,c as b,_ as E}from"./CardTitle.vue_vue_type_script_setup_true_lang-QCz4ZACd.js";import{_ as G}from"./CardDescription.vue_vue_type_script_setup_true_lang-DdNRNfmx.js";import{_ as S}from"./index-FD1qptEE.js";import{_ as J}from"./Separator.vue_vue_type_script_setup_true_lang-3SugxVqz.js";import{C as K}from"./calendar-C4wuAQGy.js";import"./useForwardExpose-98IC4jck.js";import"./VisuallyHidden-BhZ8vHif.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=k("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=k("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=k("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),X={class:"container mx-auto p-4 max-w-6xl"},Y={class:"flex items-center justify-between mb-6"},Z={class:"flex items-center gap-4"},ee={class:"grid gap-6"},se={class:"flex items-start justify-between"},te={class:"flex-1"},ae={class:"flex items-center gap-2"},le={key:0,class:"flex items-center gap-2"},ie={class:"flex items-center gap-3 p-3 bg-gray-100 bg-opacity-5 rounded-lg"},ne={class:"flex-1"},ce={class:"font-medium"},oe={class:"text-sm opacity-70"},re={class:"space-y-4"},de={key:0},me={class:"text-sm font-medium opacity-70 mb-2 uppercase tracking-wider"},_e={class:"space-y-2"},ue={class:"flex-1"},fe={class:"text-sm font-medium"},pe={class:"text-xs opacity-60"},he={key:1},ye={class:"text-sm font-medium opacity-70 mb-2 uppercase tracking-wider"},ve={class:"space-y-2"},ge={class:"flex-1"},xe={class:"text-sm font-medium"},be={class:"text-xs opacity-60"},ke={key:2},we={class:"text-sm font-medium opacity-70 mb-2 uppercase tracking-wider"},$e={class:"space-y-2"},Ce={class:"flex-1"},Me={class:"text-sm font-medium"},Ee={class:"text-xs opacity-60"},Se=["innerHTML"],He=F({__name:"Show",props:{email:{}},setup(V){const{toast:w}=z(),y=V,T=[{title:"Mails",href:"/mails"},{title:"View Email",href:`/mails/${y.email.id}`}],$=l=>new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=l=>{switch(l){case"sent":return"success";case"draft":return"secondary";case"failed":return"destructive";default:return"default"}},m=R(()=>{const l={to:[],cc:[],bcc:[]};return y.email.recipients.forEach(c=>{l[c.type].push(c)}),l}),_=l=>l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2),j=()=>{confirm("Are you sure you want to delete this email? This action cannot be undone.")&&C.delete(`/mails/${y.email.id}`,{onSuccess:()=>{w({title:"Email Deleted",description:"The email has been deleted successfully.",variant:"success"}),C.visit("/mails")},onError:()=>{w({title:"Error",description:"Failed to delete the email. Please try again.",variant:"destructive"})}})};return(l,c)=>(d(),r(h,null,[e(s(P),{title:`${l.email.subject} - Mail Details`},null,8,["title"]),e(N,{breadcrumbs:T},{default:t(()=>[a("div",X,[a("div",Y,[a("div",Z,[e(s(q),{href:"/mails"},{default:t(()=>[e(s(M),{variant:"ghost",size:"sm"},{default:t(()=>[e(s(O),{class:"h-4 w-4 mr-2"}),c[0]||(c[0]=o(" Back to Mails ",-1))]),_:1,__:[0]})]),_:1}),e(s(S),{variant:L(l.email.status)},{default:t(()=>[o(n(l.email.status.charAt(0).toUpperCase()+l.email.status.slice(1)),1)]),_:1},8,["variant"])]),e(s(D),null,{default:t(()=>[e(s(A),{"as-child":""},{default:t(()=>[e(s(M),{variant:"ghost",size:"sm"},{default:t(()=>[e(s(Q),{class:"h-4 w-4"})]),_:1})]),_:1}),e(s(B),{align:"end"},{default:t(()=>[e(s(I),{onClick:j,class:"text-red-600"},{default:t(()=>[e(s(W),{class:"h-4 w-4 mr-2"}),c[1]||(c[1]=o(" Delete ",-1))]),_:1,__:[1]})]),_:1})]),_:1})]),a("div",ee,[e(s(g),null,{default:t(()=>[e(s(x),null,{default:t(()=>[a("div",se,[a("div",te,[e(s(b),{class:"text-xl mb-2"},{default:t(()=>[o(n(l.email.subject),1)]),_:1}),e(s(G),{class:"flex items-center gap-4 text-sm"},{default:t(()=>[a("span",ae,[e(s(K),{class:"h-4 w-4"}),o(" Created: "+n($(l.email.created_at)),1)]),l.email.sent_at?(d(),r("span",le,[e(s(U),{class:"h-4 w-4"}),o(" Sent: "+n($(l.email.sent_at)),1)])):p("",!0)]),_:1})])])]),_:1})]),_:1}),e(s(g),null,{default:t(()=>[e(s(x),null,{default:t(()=>[e(s(b),{class:"flex items-center gap-2"},{default:t(()=>[e(s(H),{class:"h-5 w-5"}),c[2]||(c[2]=o(" Sender & Recipients ",-1))]),_:1,__:[2]})]),_:1}),e(s(E),{class:"space-y-4"},{default:t(()=>[a("div",ie,[e(s(u),null,{default:t(()=>[e(s(f),null,{default:t(()=>[o(n(_(l.email.sender.name)),1)]),_:1})]),_:1}),a("div",ne,[a("p",ce,n(l.email.sender.name),1),a("p",oe,n(l.email.sender.email),1)]),e(s(S),{variant:"outline"},{default:t(()=>c[3]||(c[3]=[o("Sender",-1)])),_:1,__:[3]})]),e(s(J)),a("div",re,[m.value.to.length>0?(d(),r("div",de,[a("h4",me," To ("+n(m.value.to.length)+") ",1),a("div",_e,[(d(!0),r(h,null,v(m.value.to,i=>(d(),r("div",{key:i.id,class:"flex items-center gap-3 p-2 rounded-lg border"},[e(s(u),{size:"sm"},{default:t(()=>[e(s(f),null,{default:t(()=>[o(n(_(i.recipient_name||i.recipient_email)),1)]),_:2},1024)]),_:2},1024),a("div",ue,[a("p",fe,n(i.recipient_name||i.recipient_email.split("@")[0]),1),a("p",pe,n(i.recipient_email),1)])]))),128))])])):p("",!0),m.value.cc.length>0?(d(),r("div",he,[a("h4",ye," CC ("+n(m.value.cc.length)+") ",1),a("div",ve,[(d(!0),r(h,null,v(m.value.cc,i=>(d(),r("div",{key:i.id,class:"flex items-center gap-3 p-2 rounded-lg border"},[e(s(u),{size:"sm"},{default:t(()=>[e(s(f),null,{default:t(()=>[o(n(_(i.recipient_name||i.recipient_email)),1)]),_:2},1024)]),_:2},1024),a("div",ge,[a("p",xe,n(i.recipient_name||i.recipient_email.split("@")[0]),1),a("p",be,n(i.recipient_email),1)])]))),128))])])):p("",!0),m.value.bcc.length>0?(d(),r("div",ke,[a("h4",we," BCC ("+n(m.value.bcc.length)+") ",1),a("div",$e,[(d(!0),r(h,null,v(m.value.bcc,i=>(d(),r("div",{key:i.id,class:"flex items-center gap-3 p-2 rounded-lg border"},[e(s(u),{size:"sm"},{default:t(()=>[e(s(f),null,{default:t(()=>[o(n(_(i.recipient_name||i.recipient_email)),1)]),_:2},1024)]),_:2},1024),a("div",Ce,[a("p",Me,n(i.recipient_name||i.recipient_email.split("@")[0]),1),a("p",Ee,n(i.recipient_email),1)])]))),128))])])):p("",!0)])]),_:1})]),_:1}),e(s(g),null,{default:t(()=>[e(s(x),null,{default:t(()=>[e(s(b),null,{default:t(()=>c[4]||(c[4]=[o("Email Content",-1)])),_:1,__:[4]})]),_:1}),e(s(E),null,{default:t(()=>[a("div",{innerHTML:l.email.body},null,8,Se)]),_:1})]),_:1})])])]),_:1})],64))}});export{He as default};
