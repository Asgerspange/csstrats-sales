import{u as L,_ as D,a as A,b as I,g as N,M as P,U,h,i as v,c as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-CfpExTNj.js";import{d as B,h as F,o as c,w as s,p as R,N as O,f as e,c as q,a as d,b as t,n as G,e as a,M as J,i as o,t as n,l as g,F as y,g as k,m as V}from"./app-rA5uPXP2.js";import{c as M,a as K,P as Q,b as W,_ as E}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cc-qQp-T.js";import{c as w,_ as $,a as C,b as S}from"./CardTitle.vue_vue_type_script_setup_true_lang-B5koauAf.js";import{_ as X}from"./CardDescription.vue_vue_type_script_setup_true_lang-WseC6fTU.js";import{r as Y}from"./useForwardExpose-DjSHLXxA.js";import{_ as Z}from"./Separator.vue_vue_type_script_setup_true_lang-AaS6d2ic.js";import{C as ee}from"./calendar-BqykiOs-.js";import"./VisuallyHidden-De8-eOj1.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=M("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=M("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=M("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),T=B({__name:"Badge",props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(b){const m=b,_=Y(m,"class");return(f,x)=>(c(),F(e(Q),O({"data-slot":"badge",class:e(K)(e(ie)({variant:f.variant}),m.class)},e(_)),{default:s(()=>[R(f.$slots,"default")]),_:3},16,["class"]))}}),ie=W("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),le={class:"container mx-auto p-4 max-w-6xl"},ne={class:"flex items-center justify-between mb-6"},re={class:"flex items-center gap-4"},oe={class:"grid gap-6"},ce={class:"flex items-start justify-between"},de={class:"flex-1"},ue={class:"flex items-center gap-2"},me={key:0,class:"flex items-center gap-2"},_e={class:"flex items-center gap-3 p-3 bg-gray-100 bg-opacity-5 rounded-lg"},fe={class:"flex-1"},pe={class:"font-medium"},he={class:"text-sm opacity-70"},ve={class:"space-y-4"},ge={key:0},ye={class:"text-sm font-medium opacity-70 mb-2 uppercase tracking-wider"},be={class:"space-y-2"},xe={class:"flex-1"},ke={class:"text-sm font-medium"},we={class:"text-xs opacity-60"},$e={key:1},Ce={class:"text-sm font-medium opacity-70 mb-2 uppercase tracking-wider"},Me={class:"space-y-2"},Ve={class:"flex-1"},Ee={class:"text-sm font-medium"},Se={class:"text-xs opacity-60"},Te={key:2},Be={class:"text-sm font-medium opacity-70 mb-2 uppercase tracking-wider"},je={class:"space-y-2"},ze={class:"flex-1"},Le={class:"text-sm font-medium"},De={class:"text-xs opacity-60"},Ae=["innerHTML"],Ge=B({__name:"Show",props:{email:{}},setup(b){const{toast:m}=L(),_=b,f=[{title:"Mails",href:"/mails"},{title:"View Email",href:`/mails/${_.email.id}`}],x=i=>new Date(i).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=i=>{switch(i){case"sent":return"success";case"draft":return"secondary";case"failed":return"destructive";default:return"default"}},u=q(()=>{const i={to:[],cc:[],bcc:[]};return _.email.recipients.forEach(r=>{i[r.type].push(r)}),i}),p=i=>i.split(" ").map(r=>r.charAt(0)).join("").toUpperCase().slice(0,2),z=()=>{confirm("Are you sure you want to delete this email? This action cannot be undone.")&&V.delete(`/mails/${_.email.id}`,{onSuccess:()=>{m({title:"Email Deleted",description:"The email has been deleted successfully.",variant:"success"}),V.visit("/mails")},onError:()=>{m({title:"Error",description:"Failed to delete the email. Please try again.",variant:"destructive"})}})};return(i,r)=>(c(),d(y,null,[t(e(G),{title:`${i.email.subject} - Mail Details`},null,8,["title"]),t(H,{breadcrumbs:f},{default:s(()=>[a("div",le,[a("div",ne,[a("div",re,[t(e(J),{href:"/mails"},{default:s(()=>[t(e(E),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(te),{class:"h-4 w-4 mr-2"}),r[0]||(r[0]=o(" Back to Mails ",-1))]),_:1,__:[0]})]),_:1}),t(e(T),{variant:j(i.email.status)},{default:s(()=>[o(n(i.email.status.charAt(0).toUpperCase()+i.email.status.slice(1)),1)]),_:1},8,["variant"])]),t(e(D),null,{default:s(()=>[t(e(A),{"as-child":""},{default:s(()=>[t(e(E),{variant:"ghost",size:"sm"},{default:s(()=>[t(e(se),{class:"h-4 w-4"})]),_:1})]),_:1}),t(e(I),{align:"end"},{default:s(()=>[t(e(N),{onClick:z,class:"text-red-600"},{default:s(()=>[t(e(ae),{class:"h-4 w-4 mr-2"}),r[1]||(r[1]=o(" Delete ",-1))]),_:1,__:[1]})]),_:1})]),_:1})]),a("div",oe,[t(e(w),null,{default:s(()=>[t(e($),null,{default:s(()=>[a("div",ce,[a("div",de,[t(e(C),{class:"text-xl mb-2"},{default:s(()=>[o(n(i.email.subject),1)]),_:1}),t(e(X),{class:"flex items-center gap-4 text-sm"},{default:s(()=>[a("span",ue,[t(e(ee),{class:"h-4 w-4"}),o(" Created: "+n(x(i.email.created_at)),1)]),i.email.sent_at?(c(),d("span",me,[t(e(P),{class:"h-4 w-4"}),o(" Sent: "+n(x(i.email.sent_at)),1)])):g("",!0)]),_:1})])])]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[t(e($),null,{default:s(()=>[t(e(C),{class:"flex items-center gap-2"},{default:s(()=>[t(e(U),{class:"h-5 w-5"}),r[2]||(r[2]=o(" Sender & Recipients ",-1))]),_:1,__:[2]})]),_:1}),t(e(S),{class:"space-y-4"},{default:s(()=>[a("div",_e,[t(e(h),null,{default:s(()=>[t(e(v),null,{default:s(()=>[o(n(p(i.email.sender.name)),1)]),_:1})]),_:1}),a("div",fe,[a("p",pe,n(i.email.sender.name),1),a("p",he,n(i.email.sender.email),1)]),t(e(T),{variant:"outline"},{default:s(()=>r[3]||(r[3]=[o("Sender",-1)])),_:1,__:[3]})]),t(e(Z)),a("div",ve,[u.value.to.length>0?(c(),d("div",ge,[a("h4",ye," To ("+n(u.value.to.length)+") ",1),a("div",be,[(c(!0),d(y,null,k(u.value.to,l=>(c(),d("div",{key:l.id,class:"flex items-center gap-3 p-2 rounded-lg border"},[t(e(h),{size:"sm"},{default:s(()=>[t(e(v),null,{default:s(()=>[o(n(p(l.recipient_name||l.recipient_email)),1)]),_:2},1024)]),_:2},1024),a("div",xe,[a("p",ke,n(l.recipient_name||l.recipient_email.split("@")[0]),1),a("p",we,n(l.recipient_email),1)])]))),128))])])):g("",!0),u.value.cc.length>0?(c(),d("div",$e,[a("h4",Ce," CC ("+n(u.value.cc.length)+") ",1),a("div",Me,[(c(!0),d(y,null,k(u.value.cc,l=>(c(),d("div",{key:l.id,class:"flex items-center gap-3 p-2 rounded-lg border"},[t(e(h),{size:"sm"},{default:s(()=>[t(e(v),null,{default:s(()=>[o(n(p(l.recipient_name||l.recipient_email)),1)]),_:2},1024)]),_:2},1024),a("div",Ve,[a("p",Ee,n(l.recipient_name||l.recipient_email.split("@")[0]),1),a("p",Se,n(l.recipient_email),1)])]))),128))])])):g("",!0),u.value.bcc.length>0?(c(),d("div",Te,[a("h4",Be," BCC ("+n(u.value.bcc.length)+") ",1),a("div",je,[(c(!0),d(y,null,k(u.value.bcc,l=>(c(),d("div",{key:l.id,class:"flex items-center gap-3 p-2 rounded-lg border"},[t(e(h),{size:"sm"},{default:s(()=>[t(e(v),null,{default:s(()=>[o(n(p(l.recipient_name||l.recipient_email)),1)]),_:2},1024)]),_:2},1024),a("div",ze,[a("p",Le,n(l.recipient_name||l.recipient_email.split("@")[0]),1),a("p",De,n(l.recipient_email),1)])]))),128))])])):g("",!0)])]),_:1})]),_:1}),t(e(w),null,{default:s(()=>[t(e($),null,{default:s(()=>[t(e(C),null,{default:s(()=>r[4]||(r[4]=[o("Email Content",-1)])),_:1,__:[4]})]),_:1}),t(e(S),null,{default:s(()=>[a("div",{innerHTML:i.email.body},null,8,Ae)]),_:1})]),_:1})])])]),_:1})],64))}});export{Ge as default};
